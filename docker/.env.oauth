# Docker Environment Configuration for Anthropic OAuth (Claude Max)
# Copy this to docker/.env and customize as needed

# ============================================================================
# PROVIDER CONFIGURATION - Anthropic OAuth (Claude Max Billing)
# ============================================================================

# Use OAuth provider for Claude Max unlimited billing
CYBER_AGENT_PROVIDER=anthropic_oauth

# Model configuration (uses Anthropic aliases for auto-updates)
# Default: Opus 4.1 with Sonnet 4.5 fallback
CYBER_AGENT_LLM_MODEL=claude-opus-4-1

# Embedding model (Anthropic doesn't provide embeddings)
# Uses local sentence-transformers model
CYBER_AGENT_EMBEDDING_MODEL=multi-qa-MiniLM-L6-cos-v1

# ============================================================================
# OAUTH FALLBACK CONFIGURATION
# ============================================================================

# Enable automatic fallback on rate limits (default: true)
ANTHROPIC_OAUTH_FALLBACK_ENABLED=true

# Fallback model when Opus is rate limited (default: claude-sonnet-4-5)
ANTHROPIC_OAUTH_FALLBACK_MODEL=claude-sonnet-4-5

# Max retries before fallback (default: 3)
ANTHROPIC_OAUTH_MAX_RETRIES=3

# Retry delay in seconds (default: 1.0, uses exponential backoff)
ANTHROPIC_OAUTH_RETRY_DELAY=1.0

# ============================================================================
# OBSERVABILITY CONFIGURATION
# ============================================================================

# Enable Langfuse tracing (default: true in docker-compose)
ENABLE_OBSERVABILITY=true
LANGFUSE_HOST=http://langfuse-web:3000
LANGFUSE_PUBLIC_KEY=cyber-public
LANGFUSE_SECRET_KEY=cyber-secret

# Enable automatic evaluation with Ragas (default: true)
ENABLE_AUTO_EVALUATION=true

# Use OAuth model for evaluation too
RAGAS_EVALUATOR_MODEL=claude-3-7-sonnet-latest

# ============================================================================
# PROMPT MANAGEMENT
# ============================================================================

# Enable Langfuse prompt management (default: true)
ENABLE_LANGFUSE_PROMPTS=true
LANGFUSE_PROMPT_LABEL=production
LANGFUSE_PROMPT_CACHE_TTL=300

# ============================================================================
# MEMORY CONFIGURATION
# ============================================================================

# Memory backend (default: FAISS for local persistence)
# Options: FAISS (local), OpenSearch (remote), Mem0 Platform (cloud)
# For Docker, FAISS is recommended as it persists in mounted volumes

# Uncomment for OpenSearch backend:
# OPENSEARCH_HOST=your-opensearch-host
# OPENSEARCH_PORT=9200
# OPENSEARCH_USER=admin
# OPENSEARCH_PASSWORD=your-password

# Uncomment for Mem0 Platform (cloud):
# MEM0_API_KEY=your-mem0-api-key

# ============================================================================
# LANGFUSE ADMIN USER CUSTOMIZATION (Optional)
# ============================================================================

# Customize the initial Langfuse admin user
# Update these values in your local docker/.env file (not tracked by git)
LANGFUSE_INIT_USER_EMAIL=admin@example.com
LANGFUSE_INIT_USER_PASSWORD=changeme
LANGFUSE_INIT_USER_NAME=Admin

# Organization and project settings
# LANGFUSE_INIT_ORG_NAME=Cyber-AutoAgent
# LANGFUSE_INIT_PROJECT_NAME=penetration-tests

# ============================================================================
# MINIO OBJECT STORAGE CREDENTIALS
# ============================================================================

# MinIO console and storage credentials
# Update these values in your local docker/.env file (not tracked by git)
MINIO_ROOT_USER=admin@example.com
MINIO_ROOT_PASSWORD=changeme

# ============================================================================
# OPTIONAL: DISABLE AWS/OTHER PROVIDERS
# ============================================================================

# These are not needed for OAuth, but docker-compose passes them through
# Leave them commented out unless you want to use multiple providers

# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_BEARER_TOKEN_BEDROCK=
# OPENAI_API_KEY=
# ANTHROPIC_API_KEY=  # Not needed for OAuth
# XAI_API_KEY=
